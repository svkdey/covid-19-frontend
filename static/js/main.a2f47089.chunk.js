(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{165:function(e,a,t){e.exports=t.p+"static/media/loc.9920085f.svg"},208:function(e,a,t){e.exports=t(413)},213:function(e,a,t){},413:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(28),o=t.n(c),i=t(38),s=t(39),l=t(45),u=t(40),d=t(46),m=(t(213),t(77)),h=t(20),p=t.n(h),f=t(47),v=t(48),E=t.n(v);var y=function(){return{type:"SET_DEATH_LOADING"}};var g=function(){return{type:"SET_CONFIRM_LOADING"}};var b=function(){return{type:"SET_RECOVERY_LOADING"}};var O=function(){return{type:"SET_NEWS_LOADING"}},N=t(71),w=t(178),j=t(17);function k(e){var a,t=e?(a="country",e.reduce((function(e,t){return Object(j.a)({},e,Object(N.a)({},t[a],[].concat(Object(w.a)(e[t[a]]||[]),[t])))}),{})):[],n={};for(var r in t){var c=L(t[r]);n[r]=c}return n}function L(e){var a=0;return e.forEach((function(e){a+=e.latestTotal})),a}function D(){return r.a.createElement("div",{className:"header-container"},r.a.createElement("div",{className:"header-container-left"},"COVID-19 Dashboard"),r.a.createElement("div",{className:"header-container-right"},r.a.createElement("a",{href:"https://github.com/svkdey/covid-19-frontend"},r.a.createElement("i",{className:"fa fa-github fa-2x","aria-hidden":"true"}))))}function _(e){return r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:e.nameClass},e.total),r.a.createElement("div",{className:"type"},e.type))}var C=t(416),S=t(417);function I(e){var a=e.confirm,t=e.death,n=e.recovery,c=e.confirmsum,o=e.deathsum,i=e.recoversum,s=function(e,a,t){var n=[];for(var r in e){var c={};c.name=r,c.confirm=e[r],c.death=t[r],c.recovery=a[r],n.push(c)}return n}(a,n,t);return r.a.createElement("div",null,r.a.createElement("div",null,function(e,a,t){return r.a.createElement("div",{className:"list-heading"},r.a.createElement(_,{type:"Confirmed",nameClass:"confirmCls",total:e}),r.a.createElement(_,{type:"Deaths",nameClass:"deadCls",total:a}),r.a.createElement(_,{type:"Recoveries",nameClass:"recoverdCls",total:t}))}(c,o,i)),r.a.createElement("div",{className:"scroller",style:{height:e.height}},function(e){return r.a.createElement(C.a,null,e.length>0?e.map((function(e,a){return r.a.createElement(S.a,{key:a},r.a.createElement("div",{className:"listgroupItem-heading "},e.name),r.a.createElement("div",{className:"listgroupItem"},r.a.createElement("div",{className:"listgroupItem-box"},e.confirm),r.a.createElement("div",{className:"listgroupItem-box"},e.death),r.a.createElement("div",{className:"listgroupItem-box"},e.recovery)))})):"")}(s.sort((function(e,a){return a.confirm-e.confirm})))))}var x=t(21),A=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).createData=function(e,a,t){var n=[],r=[];return e.forEach((function(e){var n={};a.forEach((function(a){e[0]===a[0]&&(n.name=e[0],n.confirmed=e[1],n.recover=a[1]),t.forEach((function(a){e[0]===a[0]&&(n.death=a[1])}))})),r.push(n)})),r.forEach((function(e){void 0!==e.name&&n.push(e)})),n},t}return Object(d.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.confirm,t=e.recovery,n=e.death,c=this.createData(a,t,n);return r.a.createElement(x.b,{width:900,height:270,data:c,margin:{top:20,right:20,left:20,bottom:20}},r.a.createElement(x.c,{strokeDasharray:"10 10"}),r.a.createElement(x.f,{dataKey:"name"}),r.a.createElement(x.g,null),r.a.createElement(x.e,null),r.a.createElement(x.d,null),r.a.createElement(x.a,{dataKey:"confirmed",stackId:"a",fill:"#8884d8"}),r.a.createElement(x.a,{dataKey:"recover",stackId:"a",fill:"#82ca9d"}),r.a.createElement(x.a,{dataKey:"death",stackId:"a",fill:"red"}))}}]),a}(n.PureComponent),T=t(175),R=t.n(T),B=function(e){var a=e.type,t=void 0===a?"bars":a,n=e.color,c=void 0===n?"black":n;return r.a.createElement("div",{className:"loading"},r.a.createElement(R.a,{type:t,color:c,height:"20%",width:"20%"}))},G=t(418),M=t(425),V=t(424),F=t(427),K=t(13),z=new(t.n(K).a.Icon)({iconUrl:t(165),iconRetinaUrl:t(165),className:"mark"}),H=function(e){function a(){var e;return Object(i.a)(this,a),(e=Object(l.a)(this,Object(u.a)(a).call(this))).fetchMarker=function(a){return a?a.map((function(a,t){return r.a.createElement(G.a,{icon:z,className:"mark",position:[a.lat,a.lon],key:t},r.a.createElement(M.a,null,r.a.createElement("div",{className:"state"},"Place :",a.state,a.country&&a.state?",":""),a.country,r.a.createElement("div",null,"Confirm:",r.a.createElement("span",{className:"confirm"},e.findByDataByLocation(e.props.data.confirm,a.lat,a.lon))),r.a.createElement("div",null,"Deaths:",r.a.createElement("span",{className:"death"},e.findByDataByLocation(e.props.data.death,a.lat,a.lon))),r.a.createElement("div",null,"Recovered:",r.a.createElement("span",{className:"recover"},e.findByDataByLocation(e.props.data.recovery,a.lat,a.lon)))))})):""},e.state={lat:0,lng:0,zoom:2},e}return Object(d.a)(a,e),Object(s.a)(a,[{key:"findByDataByLocation",value:function(e,a,t){for(var n in e)if(e[n].lat===a&&e[n].lon===t)return e[n].latestTotal}},{key:"render",value:function(){var e=this.props.data.death;return r.a.createElement(V.a,{center:[0,0],zoom:this.state.zoom},r.a.createElement(F.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),e?this.fetchMarker(e):"")}}]),a}(r.a.Component),U=t(419),W=t(420),X=t(421),Y=t(422),J=t(423),P=t(426);function q(e){return r.a.createElement("div",{className:"card-wrapper"},r.a.createElement(U.a,null,r.a.createElement(W.a,{top:!0,width:"100%",src:e.data.urlToImage,alt:"Card image cap"}),r.a.createElement(X.a,null,r.a.createElement(Y.a,null,r.a.createElement("strong",null,e.data.title)),r.a.createElement(J.a,null,r.a.createElement("small",null,e.data.description," ")),r.a.createElement(J.a,null,r.a.createElement(P.a,{outline:!0,color:"danger"},r.a.createElement("a",{href:e.data.url},"Read Full content"))))))}function Q(e){var a;return r.a.createElement("div",{className:"scroller-fix mobile-fix",style:{height:e.height}},void 0!==(a=e.news)&&a.length>0?a.map((function(e,a){return r.a.createElement(q,{data:e,key:a})})):"")}var Z=function(e){function a(){var e;return Object(i.a)(this,a),(e=Object(l.a)(this,Object(u.a)(a).call(this))).state={loading:!0},e}return Object(d.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(function(){var e=Object(f.a)(p.a.mark((function e(a){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(),e.next=4,E.a.get("https://cors-anywhere.herokuapp.com/http://covid19-dashboard-backend.herokuapp.com/corona-data-death");case 4:t=e.sent,a({type:"DEATH_CASES",payload:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}()),this.props.dispatch(function(){var e=Object(f.a)(p.a.mark((function e(a){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(),e.next=4,E.a.get("https://cors-anywhere.herokuapp.com/https://covid19-dashboard-backend.herokuapp.com/corona-data-confirm");case 4:t=e.sent,a({type:"CONFIRM_CASES",payload:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}()),this.props.dispatch(function(){var e=Object(f.a)(p.a.mark((function e(a){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(),e.next=4,E.a.get("https://cors-anywhere.herokuapp.com/http://covid19-dashboard-backend.herokuapp.com/corona-data-recover");case 4:t=e.sent,a({type:"RECOVERY_CASES",payload:t}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a){return e.apply(this,arguments)}}()),this.props.dispatch(function(e){return function(){var a=Object(f.a)(p.a.mark((function a(t){var n;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,O(),a.next=4,E.a.get("http://cors.io/?https://newsapi.org/v2/top-headlines?q=covid&country=in&apiKey="+e);case 4:n=a.sent,t({type:"NEWS",payload:n.data.articles}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}("8848e02cd0aa4335bc396eb593f1ce71")),this.setState({loading:!1})}},{key:"sumOfObject",value:function(e){var a=0;if(e)for(var t in e)a+=e[t];return a}},{key:"render",value:function(){var e=this.props.news.news,a=this.props,t=k(this.props.confirm),n=k(this.props.death),c=k(this.props.recovery),o=this.props,i=o.deathLoading,s=o.confirmLoading,l=o.recoveryLoading,u=o.newsLoading;return i||s||l||u?r.a.createElement(B,null):r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",null,r.a.createElement(D,null)),r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"left-20"},r.a.createElement(I,{nameClass:"h-2",confirm:t,confirmsum:this.sumOfObject(t),death:n,deathsum:this.sumOfObject(n),recovery:c,recoversum:this.sumOfObject(c),height:"82vh",highlightColor:"blue"})),r.a.createElement("div",{className:"mid-60"},r.a.createElement("div",{className:"upper-60"},r.a.createElement(H,{data:a})),r.a.createElement("div",{className:"lower-40"},r.a.createElement(A,{confirm:Object.entries(t).sort((function(e,a){return a[1]-e[1]})).slice(0,10),death:Object.entries(n).sort((function(e,a){return a[1]-e[1]})).slice(0,15),recovery:Object.entries(c).sort((function(e,a){return a[1]-e[1]})).slice(0,15)}))),r.a.createElement("div",{className:"right-20"},r.a.createElement(Q,{news:e,height:"85vh"}))))}}]),a}(r.a.Component),$=Object(m.b)((function(e,a){return{death:e.coronaData.death,confirm:e.coronaData.confirm,recovery:e.coronaData.recovery,news:e.news,deathLoading:e.coronaData.deathLoading,confirmLoading:e.coronaData.confirmLoading,recoveryLoading:e.coronaData.recoveryLoading,newsLoading:e.news.newsLoading}}))(Z),ee=t(32),ae=t(176),te=t.n(ae),ne=t(177),re=(t(412),{deathLoading:!0,confirmLoading:!0,recoveryLoading:!0}),ce={newsLoading:!0},oe=Object(ee.c)({coronaData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"DEATH_CASES":return Object(j.a)({},e,{death:a.payload.data,deathLoading:!1});case"CONFIRM_CASES":return Object(j.a)({},e,{confirm:a.payload.data,confirmLoading:!1});case"RECOVERY_CASES":return Object(j.a)({},e,{recovery:a.payload.data,recoveryLoading:!1});case"SET_DEATH_LOADING":return Object(j.a)({},e,{deathLoading:!0});case"SET_CONFIRM_LOADING":return Object(j.a)({},e,{confirmLoading:!0});case"SET_RECOVERY_LOADING":return Object(j.a)({},e,{recoveryLoading:!0});default:return e}},news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"NEWS":return Object(j.a)({},e,{news:a.payload,newsLoading:!1});case"SET_NEWS_LOADING":return Object(j.a)({},e,{newsLoading:!0});default:return e}}}),ie=Object(ee.a)(te.a,ne.a)(ee.d);o.a.render(r.a.createElement(m.a,{store:ie(oe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement($,null)),document.getElementById("root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.a2f47089.chunk.js.map